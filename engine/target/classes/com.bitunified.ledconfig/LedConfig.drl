/*
 * Copyright 2016 BitUnified B.V. and/or its affiliates.
 *
 */

package com.bitunified.ledconfig;
 
import com.bitunified.ledconfig.domain.product.PCB.LedStrip;
import com.bitunified.ledconfig.domain.Property;
import com.bitunified.ledconfig.domain.Dimension;
import com.bitunified.ledconfig.domain.composedproduct.ComposedProduct;
import com.bitunified.ledconfig.domain.message.Message
import ch.qos.logback.core.net.SyslogOutputStream;
global java.util.List<Message> messages
 
rule "Led strip section modulo"
    dialect "mvel"
    when
        
        cp : LedStrip( props:properies )

        exists(
        Property(name==LedStrip.SECTION_WIDTH,(value!=null) && ((value % cp.dimension.width)!=0))
         from props)


    then

    messages.add(new Message("Ledstrip lengte moet een veelvoud zijn van sectielengte."));

end

rule "Totale lengte"
    when
    ledstrip:LedStrip(props:properies,afmetingen:dimension)
    composedproduct:ComposedProduct(width<(afmetingen.width+10+5))

    then
    messages.add(new Message("Totale lengte moet minimaal."));

     end
