<form>


  <div *ngIf="stepDiff(step)<0">
    <h4>{{step.description}}: {{getModelTitle()}}</h4>
  </div>
  <div *ngIf="stepDiff(step)==0">
    <h3>{{step.description}}: {{getModelTitle()}}</h3>
    <div *ngIf="step.skip"><md-checkbox  (change)="skipThisStep($event)" [(ngModel)]="skip" [ngModelOptions]="{standalone: true}">Optional step, skip it.</md-checkbox></div>
    <div>
      <div *ngIf="isStepTypeValues(step) && filter(step.models).length>0 && !skip">

        <md-tab-group (selectChange)="changedTabSelection($event)" [selectedIndex]="tabIndex">
          <md-tab *ngFor="let m of filter(step.models);let i=index;">
            <ng-template md-tab-label>
              <div class="labelTab" (click)="tabClick()" [style.color]="getTabColor(m).color">

                {{m.name}}
              </div>
            </ng-template>
            <md-list dense>
              <md-list-item *ngIf="getTabColor(m).message!=null && getTabColor(m).relationState=='ALLOWEDWITHWARNING'">
                <md-chip-list class="mat-chip-list-stacked">
                  <md-chip class="warningChip"
                           selected="true"
                           color="warn">
                    Warning: {{displayRelation.message}}
                  </md-chip>
                </md-chip-list>


              </md-list-item>
              <md-list-item *ngIf="getTabColor(m).message!=null && getTabColor(m).relationState=='ALLOWEDWITHINFO'">
                <md-chip-list class="mat-chip-list-stacked">
                  <md-chip class="warningChip"
                           selected="true"
                           color="primary">
                    Comment: {{displayRelation.message}}
                  </md-chip>
                </md-chip-list>


              </md-list-item>
              <md-list-item>
                Description: {{m.name}}

              </md-list-item>
              <md-divider></md-divider>
              <md-list-item *ngIf="m.dimension!=null && m.dimension.width!=null">
                Width: {{m.dimension==null?'':m.dimension.width}} mm
              </md-list-item>
              <md-divider></md-divider>
              <md-list-item *ngIf="currentPart && currentPart.price">
                Price: {{currentPart.price | currency:'EUR':true}}
              </md-list-item>
            </md-list>
          </md-tab>
        </md-tab-group>
      </div>
      <div *ngIf="isStepTypeValues(step) && filter(step.models).length==0 ">
        No configuration possible. Go to previous step and choose another option.
        </div>
      <div *ngIf="isStepTypeNumber(step)  && !skip">

Click on line to select a length.<br/>
          Width:
          <md-slider class="mat-slider-horizontal"
                     max="4000"
                     min="{{calculateMinValue(step)}}"
                     step="{{calculateStepValue(step)}}"
                     thumb-label="true" [(ngModel)]="step.modelValue" name="inputValue"
                     (ngModelChange)="onInputChange($event)">
          </md-slider>
          mm.


      </div>
    </div>

  </div>
  <div *ngIf="stepDiff(step)==1">
    <h4>{{step.description}}</h4>
  </div>
  <div *ngIf="stepDiff(step)>1">
    <h5>{{step.description}}</h5>
  </div>
</form>
